type Thread {  }

native "native" "std:native" {
  create_thread(callback: fn(Thread): int): Thread
  join_thread(thread: Thread)
  thread_sleep(millis: int): unit
}

fn join_many(threads: [Thread]) {
  threads.map(join_thread)
}

fn sleep(millis: int) => thread_sleep(millis)